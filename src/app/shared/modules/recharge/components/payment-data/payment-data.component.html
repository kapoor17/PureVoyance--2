<nsp-common-dialog-header (cancel)="cancel()"
                          [title]="'recharge.confirmPackageHeaderLabel' | translate">
</nsp-common-dialog-header>

<div class="recharge-wrapper"
     mat-dialog-content>
  <div class="content-message">

    <div class="main-title">
      {{'recharge.confirmPackageSubHeaderLabel' | translate}}
    </div>

    <div *ngIf="isDiscovery"
         class="second-title">
      {{'detailedConsultation.discoveryOfferLabel' | translate}}
    </div>

    <div class="payment-details">
      <div *ngIf="isDiscovery"
           class="head-block">
        <div class="top">
          <div class="package-item">
            <div class="outer-circle">
              <img [class.special]="pack.extra_amount > 0"
                   [src]="pack.extra_amount > 0 ? './assets/images/recharge/special-circle.png' : './assets/images/recharge/regular-circle.png'"
                   alt=""
                   class="inner-circle"/>

              <div class="credits">
                {{ (pack.amount + pack.extra_amount) |integerPart}}&euro;
              </div>

              <div class="amount">
                {{ (pack.credits + pack.extra_credits) | integerPart}} minutes
              </div>
            </div>
          </div>
        </div>

        <div class="middle">
          {{'signUp.satisfiedRefundedLabel' | translate}}
        </div>

        <div class="bottom">
          <div class="side">
            <div class="icon">
              <img [src]="'./assets/images/happy-icon.png'"
                   alt=""
                   height="66"
                   width="66">
            </div>

            <div class="title">
              {{'signUp.satisfiedLabel' | translate}}
            </div>

            <div class="description">
              {{'signUp.satisfiedParagraph' | translate}}
            </div>
          </div>

          <div class="side">
            <div class="icon">
              <img [src]="'./assets/images/not-happy-icon.png'"
                   alt=""
                   height="66"
                   width="66">
            </div>

            <div class="title">
              {{'signUp.unsatisfiedLabel' | translate}}
            </div>

            <div class="description">
              {{'signUp.unsatisfiedParagraph' | translate}}
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="!isDiscovery"
           class="head-block discovery">
        <div class="top">
          <div class="package-item">
            <div class="outer-circle">
              <img [class.special]="pack.extra_amount > 0"
                   [src]="pack.extra_amount > 0 ? './assets/images/recharge/special-circle.png' : './assets/images/recharge/regular-circle.png'"
                   alt=""
                   class="inner-circle"/>

              <div class="amount">
                {{'recharge.headBlockTestLabel' | translate}} {{ (pack.amount + pack.extra_amount) | integerPart}}&euro;
              </div>

              <div class="credits">
                <span
                  class="plus">+</span>{{ ((pack.credits - pack.amount) + (pack.extra_credits - pack.extra_amount)) | integerPart}}&euro;
              </div>

              <div class="offers">
                {{'recharge.offersLabel' | translate}}
              </div>

            </div>
          </div>
        </div>
      </div>

      <div class="middle-header">
        {{'recharge.middleHeaderLabel' | translate}}
      </div>

      <iframe
        frameborder="no"
        height="240"
        onload="this.style.height=(this.contentWindow.document.body.scrollHeight+20)+'px';"
        scrollbar="yes"
        src="https://paiement.telemaque.fr/tmp/redirect-v1.php?url_ipn=https://api.purevoyance.fr/ipn/61123ed1c974b10006e3a269&psp=checkout&type=hosted-fields&payment_action=debit&opener=0&iframe=1&ajax=1&amount=25&origin=https://old.purevoyance.com&sandbox=0&client=purevoyance&customer=6061d98ecc13be0006c761f7&company=cosmospace&media=6"
        width="100%">
      </iframe>

      <div class="footer">
        <button (click)="stepBack()"
                mat-icon-button>
          <mat-icon [svgIcon]="'arrow-left'"></mat-icon>
        </button>

        <div class="ssl-container">
          <img alt=""
               src="./assets/images/ssl.png">
          <span>{{'recharge.sslLabel' | translate}}</span>
        </div>
      </div>
    </div>

  </div>
</div>
